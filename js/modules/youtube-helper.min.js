define(["require", "exports"], function (a, b) { b.YouTubeHelper = function (a) { function p(a) { var b = a; this.getValue = function () { return b }, this.setValue = function (a) { b = a } } function q(a) { } function r(a) { m || a.target.playVideo(), p.setValue(a.target) } function t(b) { if (b != undefined) { if (b.data == YT.PlayerState.PLAYING) { for (timer in j) clearInterval(timer); j = [], j = new Array, i && !n && ($.each(h, function (a, c) { var e = setInterval(function () { A(b, c.start, c.end, c.target) }, 10); j.push(e), $(c.target).clone("withDataAndEvents").appendTo($(d)) }), n = !0, !!m) } if (b.data == YT.PlayerState.ENDED) { y(), a.onVideoEnded && a.onVideoEnded(l); for (timer in j) clearInterval(timer) } if (b.data == YT.PlayerState.PAUSED) for (timer in j) clearInterval(timer) } } function u(a) { z(), d = $(a.targetContainer), $(d).html(""), l = $(a.currentVideoSelector), i && (h = $.parseJSON("[" + a.popupTimingParams + "]")); var b; a.Browser == "safari" ? b = { autoplay: 1, controls: 1, wmode: "opaque", rel: 0, autohide: 1, modestbranding: 1, showinfo: 0, enablejsapi: 1, iv_load_policy: 3, origin: "http://www.impossibleairfield.defencejobs.staging.yrgroup.com.au/"} : b = { autoplay: 1, controls: 1, wmode: "opaque", rel: 0, autohide: 1, modestbranding: 1, showinfo: 0, enablejsapi: 1, iv_load_policy: 3, origin: "http://www.impossibleairfield.defencejobs.staging.yrgroup.com.au/" }, $(d).append('<div id="' + g + '"></div>'), o = new YT.Player(g, { height: d.height(), width: d.width(), videoId: a.videoId, playerVars: b, events: { onReady: r, onStateChange: t} }) } function v() { p.getValue().startVideo() } function w() { p.getValue().pauseVideo() } function x() { p.getValue().stopVideo() } function y() { for (timer in j) clearInterval(timer); j = [], $(d).html(""), $("#" + String(g)).remove(), $("#" + String(g)).html(""), $(d).css("display", "none") } function z() { for (timer in j) clearInterval(timer); j = [], h = new Array, j = new Array, n = !1 } function A(a, b, c, d) { o && b >= 5 && (Math.floor(o.getCurrentTime()) == b && B(d), Math.floor(o.getCurrentTime()) == c && C(d)) } function B(a) { $("#" + String($(d).attr("id")) + " #" + String($(a).attr("id"))).css("display", "block") } function C(a) { $("#" + String($(d).attr("id")) + " #" + String($(a).attr("id"))).css("display", "none") } function D() { } function E() { var a = document.createElement("script"); a.type = "text/javascript", a.src = "http://www.youtube.com/player_api", document.body.appendChild(a) } function F(a) { g = a.videoFrameID, i = a.enablePopups, m = a.isIOS, E() } var b, c = "", d, e, f, g = "videoFrame", h, i, j = new Array, k = "", l, m, n = !1, o, p = new p, s = !1, G = { initWithSettings: F, playVideoNow: u, onPlayerStateChange: t, onPlayerReady: r, onYouTubePlayerAPIReady: q, RemoveCurrentVideo: y }; return G.initWithSettings(a), G } })