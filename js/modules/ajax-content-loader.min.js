define(["require", "exports"], function (a, b) { b.ajaxLoader = function (a) { function b() { for (var a = 0; a < n.length; a++) n[a].removeEvent && n[a].removeEvent("onload") } function c(a) { var b = l[a]; if (b != undefined) { $.ajax({ url: b.url, cache: b.cache, dataType: b.dataType || "text", success: function (a) { $('#scrollWrap').append(a), d(b.images) } }) } } function d(a) { h = a; var b = new Array; for (i = 0; i < h.length; i++) b[i] = e(h[i]) } function e(a) { var b = new Image; return b.addEventListener ? b.addEventListener("load", f, !1) : b.attachEvent && b.attachEvent("onload", f), b.src = a, n.push(b), b } function f() { j++, j == h.length && (j = 0, k < l.length && (l[k].success && l[k].success(), k++, c(k), b())) } function g(a) { l = a.contentToLoad, c(k) } var h, j = new Number(0), k = new Number(0), l, n = [], o = { initWithSettings: g }; return o.initWithSettings(a), o } })